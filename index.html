<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Value Discovery Calculator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // Lucide Icons as React components
        const Calculator = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="4" y="2" width="16" height="20" rx="2"/>
                <line x1="8" y1="6" x2="16" y2="6"/>
                <line x1="16" y1="14" x2="16" y2="18"/>
                <line x1="8" y1="14" x2="12" y2="14"/>
                <line x1="8" y1="18" x2="12" y2="18"/>
                <line x1="8" y1="10" x2="16" y2="10"/>
            </svg>
        );
        
        const DollarSign = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="1" x2="12" y2="23"/>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
            </svg>
        );
        
        const TrendingUp = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                <polyline points="17 6 23 6 23 12"/>
            </svg>
        );
        
        const Clock = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
            </svg>
        );
        
        const Users = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
        );
        
        const Target = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="6"/>
                <circle cx="12" cy="12" r="2"/>
            </svg>
        );
        
        const Download = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
        );

        function ValueCalculator() {
            const [clientName, setClientName] = useState('');
            const [callDate, setCallDate] = useState('');
            const [industry, setIndustry] = useState('');
            const [yearsInBusiness, setYearsInBusiness] = useState('');
            
            const [annualRevenue, setAnnualRevenue] = useState('');
            const [monthlyRevenue, setMonthlyRevenue] = useState('');
            const [customerCount, setCustomerCount] = useState('');
            const [avgTransactionValue, setAvgTransactionValue] = useState('');
            const [acquisitionCost, setAcquisitionCost] = useState('');
            const [retentionRate, setRetentionRate] = useState('');
            
            const [netProfitMargin, setNetProfitMargin] = useState('');
            const [monthlyProfit, setMonthlyProfit] = useState('');
            const [biggestExpense, setBiggestExpense] = useState('');
            const [lastPriceReview, setLastPriceReview] = useState('');
            
            const [ownerHoursWeek, setOwnerHoursWeek] = useState('');
            const [revenueActivities, setRevenueActivities] = useState('');
            const [adminActivities, setAdminActivities] = useState('');
            const [strategicActivities, setStrategicActivities] = useState('');
            const [tasksToDelegate, setTasksToDelegate] = useState('');
            const [hasSOPs, setHasSOPs] = useState('');
            
            const [employeeCount, setEmployeeCount] = useState('');
            const [roles, setRoles] = useState('');
            const [turnoverIssues, setTurnoverIssues] = useState('');
            const [scaleBottleneck, setScaleBottleneck] = useState('');
            
            const [revenueGoal12Mo, setRevenueGoal12Mo] = useState('');
            const [vision3Year, setVision3Year] = useState('');
            const [biggestFrustration, setBiggestFrustration] = useState('');
            const [urgencyLevel, setUrgencyLevel] = useState('');
            const [preventingGoal, setPreventingGoal] = useState('');

            const calcAnnualRevenue = parseFloat(annualRevenue) || (parseFloat(monthlyRevenue) * 12) || 0;
            const calcMonthlyRevenue = parseFloat(monthlyRevenue) || (parseFloat(annualRevenue) / 12) || 0;
            const calcAvgCustomerValue = parseFloat(avgTransactionValue) || (calcAnnualRevenue / parseFloat(customerCount)) || 0;
            const calcMonthlyProfit = parseFloat(monthlyProfit) || (calcMonthlyRevenue * (parseFloat(netProfitMargin) / 100)) || 0;
            const calcAnnualProfit = calcMonthlyProfit * 12;
            const calcOwnerHourlyRate = (calcAnnualProfit / (parseFloat(ownerHoursWeek) * 52)) || 0;
            
            const pricingIncrease10 = calcAnnualRevenue * 0.10;
            const pricingIncrease15 = calcAnnualRevenue * 0.15;
            
            const retentionImprovement15 = (parseFloat(customerCount) * 0.15 * calcAvgCustomerValue) || 0;
            const retentionImprovement25 = (parseFloat(customerCount) * 0.25 * calcAvgCustomerValue) || 0;
            
            const ownerTimeReclaim15hrs = 15 * 52 * Math.max(calcOwnerHourlyRate, 100);
            const ownerTimeReclaim20hrs = 20 * 52 * Math.max(calcOwnerHourlyRate, 100);
            
            const operationalWaste3pct = calcAnnualRevenue * 0.03;
            const operationalWaste8pct = calcAnnualRevenue * 0.08;
            
            const capacityIncrease = calcAnnualRevenue * 0.50;
            
            const conservativeValue = pricingIncrease10 + retentionImprovement15 + ownerTimeReclaim15hrs + operationalWaste3pct;
            const aggressiveValue = pricingIncrease15 + retentionImprovement25 + ownerTimeReclaim20hrs + operationalWaste8pct + capacityIncrease;
            const midpointValue = (conservativeValue + aggressiveValue) / 2;
            
            const auditFee2pct = midpointValue * 0.02;
            const auditFee5pct = midpointValue * 0.05;
            const implementationFee10pct = midpointValue * 0.10;
            const implementationFee15pct = midpointValue * 0.15;
            const fractionalCOOMonthly = Math.max(5000, midpointValue * 0.02);
            
            const formatCurrency = (num) => {
                return new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0,
                }).format(num || 0);
            };
            
            const downloadPDF = () => {
                const element = document.getElementById('pdf-content');
                const opt = {
                    margin: 0.5,
                    filename: `${clientName || 'Client'}_Value_Discovery_${new Date().toISOString().split('T')[0]}.pdf`,
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true },
                    jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
                };
                
                html2pdf().set(opt).from(element).save();
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8">
                    <div className="max-w-7xl mx-auto">
                        <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                            <div className="flex items-center justify-between mb-4">
                                <div className="flex items-center gap-3">
                                    <Calculator />
                                    <h1 className="text-3xl font-bold text-slate-800">Client Value Discovery & Calculator</h1>
                                </div>
                                <button
                                    onClick={downloadPDF}
                                    className="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg transition-colors"
                                >
                                    <Download />
                                    <span>Save as PDF</span>
                                </button>
                            </div>
                            <p className="text-slate-600">Document discovery call insights and automatically calculate value opportunities</p>
                        </div>

                        <div id="pdf-content">
                        <div className="grid md:grid-cols-3 gap-6">
                            <div className="md:col-span-2 space-y-6">
                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <h2 className="text-xl font-bold text-slate-800 mb-4">Basic Information</h2>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Client Name</label>
                                            <input type="text" value={clientName} onChange={(e) => setClientName(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="Company name" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Call Date</label>
                                            <input type="date" value={callDate} onChange={(e) => setCallDate(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Industry</label>
                                            <input type="text" value={industry} onChange={(e) => setIndustry(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="e.g., Pool Service" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Years in Business</label>
                                            <input type="number" value={yearsInBusiness} onChange={(e) => setYearsInBusiness(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" />
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <div className="flex items-center gap-2 mb-4">
                                        <DollarSign />
                                        <h2 className="text-xl font-bold text-slate-800">Revenue Metrics</h2>
                                    </div>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Annual Revenue ($)</label>
                                            <input type="number" value={annualRevenue} onChange={(e) => setAnnualRevenue(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="500000" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Monthly Revenue ($)</label>
                                            <input type="number" value={monthlyRevenue} onChange={(e) => setMonthlyRevenue(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="41667" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Customer Count</label>
                                            <input type="number" value={customerCount} onChange={(e) => setCustomerCount(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Avg Transaction Value ($)</label>
                                            <input type="number" value={avgTransactionValue} onChange={(e) => setAvgTransactionValue(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Customer Acquisition Cost ($)</label>
                                            <input type="number" value={acquisitionCost} onChange={(e) => setAcquisitionCost(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Retention Rate (%)</label>
                                            <input type="number" value={retentionRate} onChange={(e) => setRetentionRate(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="80" />
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <div className="flex items-center gap-2 mb-4">
                                        <TrendingUp />
                                        <h2 className="text-xl font-bold text-slate-800">Profitability Metrics</h2>
                                    </div>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Net Profit Margin (%)</label>
                                            <input type="number" value={netProfitMargin} onChange={(e) => setNetProfitMargin(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="15" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Monthly Net Profit ($)</label>
                                            <input type="number" value={monthlyProfit} onChange={(e) => setMonthlyProfit(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Biggest Expense Category</label>
                                            <input type="text" value={biggestExpense} onChange={(e) => setBiggestExpense(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="Labor, COGS, Overhead, etc." />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Last Price Review</label>
                                            <input type="text" value={lastPriceReview} onChange={(e) => setLastPriceReview(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="2+ years ago, 6 months ago, etc." />
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <div className="flex items-center gap-2 mb-4">
                                        <Clock />
                                        <h2 className="text-xl font-bold text-slate-800">Operations & Time</h2>
                                    </div>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Owner Hours/Week</label>
                                            <input type="number" value={ownerHoursWeek} onChange={(e) => setOwnerHoursWeek(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="60" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Revenue Activities (%)</label>
                                            <input type="number" value={revenueActivities} onChange={(e) => setRevenueActivities(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="30" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Admin Activities (%)</label>
                                            <input type="number" value={adminActivities} onChange={(e) => setAdminActivities(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="50" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Strategic Work (%)</label>
                                            <input type="number" value={strategicActivities} onChange={(e) => setStrategicActivities(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="20" />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Tasks They Want to Delegate</label>
                                            <textarea value={tasksToDelegate} onChange={(e) => setTasksToDelegate(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" rows="2" placeholder="Scheduling, invoicing, customer service, etc." />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Has SOPs/Documented Processes?</label>
                                            <input type="text" value={hasSOPs} onChange={(e) => setHasSOPs(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="None, some, comprehensive" />
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <div className="flex items-center gap-2 mb-4">
                                        <Users />
                                        <h2 className="text-xl font-bold text-slate-800">Team & Scalability</h2>
                                    </div>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Employee Count</label>
                                            <input type="number" value={employeeCount} onChange={(e) => setEmployeeCount(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Roles</label>
                                            <input type="text" value={roles} onChange={(e) => setRoles(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" placeholder="Tech, admin, sales, etc." />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Turnover Issues</label>
                                            <textarea value={turnoverIssues} onChange={(e) => setTurnoverIssues(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" rows="2" placeholder="Recent departures, reasons, patterns" />
                                        </div>
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-slate-700 mb-1">What Would Break if They Doubled Revenue?</label>
                                            <textarea value={scaleBottleneck} onChange={(e) => setScaleBottleneck(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" rows="2" placeholder="Owner capacity, hiring, delivery, etc." />
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-lg shadow-lg p-6">
                                    <div className="flex items-center gap-2 mb-4">
                                        <Target />
                                        <h2 className="text-xl font-bold text-slate-800">Goals & Pain Points</h2>
                                    </div>
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">12-Month Revenue Goal ($)</label>
                                            <input type="number" value={revenueGoal12Mo} onChange={(e) => setRevenueGoal12Mo(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">3-Year Vision</label>
                                            <textarea value={vision3Year} onChange={(e) => setVision3Year(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" rows="2" placeholder="Where do they want to be?" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Biggest Frustration</label>
                                            <textarea value={biggestFrustration} onChange={(e) => setBiggestFrustration(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" rows="2" placeholder="What keeps them up at night?" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">Urgency Level (1-10)</label>
                                            <input type="number" value={urgencyLevel} onChange={(e) => setUrgencyLevel(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" min="1" max="10" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-700 mb-1">What's Preventing Them from Hitting Goal?</label>
                                            <textarea value={preventingGoal} onChange={(e) => setPreventingGoal(e.target.value)} className="w-full px-3 py-2 border border-slate-300 rounded-md" rows="2" placeholder="Their #1 obstacle" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="space-y-6">
                                <div className="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-lg p-6 sticky top-4">
                                    <h2 className="text-xl font-bold text-slate-800 mb-4">Auto-Calculated Metrics</h2>
                                    <div className="space-y-3">
                                        <div className="bg-white rounded p-3">
                                            <div className="text-sm text-slate-600">Annual Revenue</div>
                                            <div className="text-2xl font-bold text-slate-800">{formatCurrency(calcAnnualRevenue)}</div>
                                        </div>
                                        <div className="bg-white rounded p-3">
                                            <div className="text-sm text-slate-600">Monthly Revenue</div>
                                            <div className="text-2xl font-bold text-slate-800">{formatCurrency(calcMonthlyRevenue)}</div>
                                        </div>
                                        <div className="bg-white rounded p-3">
                                            <div className="text-sm text-slate-600">Avg Customer Value</div>
                                            <div className="text-2xl font-bold text-slate-800">{formatCurrency(calcAvgCustomerValue)}</div>
                                        </div>
                                        <div className="bg-white rounded p-3">
                                            <div className="text-sm text-slate-600">Annual Profit</div>
                                            <div className="text-2xl font-bold text-green-600">{formatCurrency(calcAnnualProfit)}</div>
                                        </div>
                                        <div className="bg-white rounded p-3">
                                            <div className="text-sm text-slate-600">Owner Hourly Rate</div>
                                            <div className="text-2xl font-bold text-slate-800">{formatCurrency(calcOwnerHourlyRate)}/hr</div>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-lg p-6">
                                    <h2 className="text-xl font-bold text-slate-800 mb-4">Value Opportunities</h2>
                                    <div className="space-y-4">
                                        <div className="bg-white rounded p-4">
                                            <h3 className="font-semibold text-slate-700 mb-2">Pricing Optimization</h3>
                                            <div className="text-sm text-slate-600">10% increase: <span className="font-bold text-green-600">{formatCurrency(pricingIncrease10)}</span></div>
                                            <div className="text-sm text-slate-600">15% increase: <span className="font-bold text-green-600">{formatCurrency(pricingIncrease15)}</span></div>
                                        </div>

                                        <div className="bg-white rounded p-4">
                                            <h3 className="font-semibold text-slate-700 mb-2">Retention Improvement</h3>
                                            <div className="text-sm text-slate-600">15% better: <span className="font-bold text-green-600">{formatCurrency(retentionImprovement15)}</span></div>
                                            <div className="text-sm text-slate-600">25% better: <span className="font-bold text-green-600">{formatCurrency(retentionImprovement25)}</span></div>
                                        </div>

                                        <div className="bg-white rounded p-4">
                                            <h3 className="font-semibold text-slate-700 mb-2">Owner Time Recapture</h3>
                                            <div className="text-sm text-slate-600">15 hrs/week: <span className="font-bold text-green-600">{formatCurrency(ownerTimeReclaim15hrs)}</span></div>
                                            <div className="text-sm text-slate-600">20 hrs/week: <span className="font-bold text-green-600">{formatCurrency(ownerTimeReclaim20hrs)}</span></div>
                                        </div>

                                        <div className="bg-white rounded p-4">
                                            <h3 className="font-semibold text-slate-700 mb-2">Operational Efficiency</h3>
                                            <div className="text-sm text-slate-600">3% of revenue: <span className="font-bold text-green-600">{formatCurrency(operationalWaste3pct)}</span></div>
                                            <div className="text-sm text-slate-600">8% of revenue: <span className="font-bold text-green-600">{formatCurrency(operationalWaste8pct)}</span></div>
                                        </div>

                                        <div className="bg-white rounded p-4">
                                            <h3 className="font-semibold text-slate-700 mb-2">Capacity Increase</h3>
                                            <div className="text-sm text-slate-600">50% growth potential: <span className="font-bold text-green-600">{formatCurrency(capacityIncrease)}</span></div>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-lg p-6">
                                    <h2 className="text-xl font-bold text-slate-800 mb-4">Total Value Range</h2>
                                    <div className="space-y-3">
                                        <div className="bg-white rounded p-4">
                                            <div className="text-sm text-slate-600">Conservative (Year 1)</div>
                                            <div className="text-3xl font-bold text-green-600">{formatCurrency(conservativeValue)}</div>
                                        </div>
                                        <div className="bg-white rounded p-4">
                                            <div className="text-sm text-slate-600">Midpoint (Year 1)</div>
                                            <div className="text-3xl font-bold text-green-600">{formatCurrency(midpointValue)}</div>
                                        </div>
                                        <div className="bg-white rounded p-4">
                                            <div className="text-sm text-slate-600">Aggressive (Year 1)</div>
                                            <div className="text-3xl font-bold text-green-600">{formatCurrency(aggressiveValue)}</div>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg shadow-lg p-6">
                                    <h2 className="text-xl font-bold text-slate-800 mb-4">Recommended Pricing</h2>
                                    <div className="space-y-4">
                                        <div className="bg-white rounded p-4">
                                            <h3 className="font-semibold text-slate-700 mb-2">Operations Audit</h3>
                                            <div className="text-sm text-slate-600">2% of value: <span className="font-bold">{formatCurrency(auditFee2pct)}</span></div>
                                            <div className="text-sm text-slate-600">5% of value: <span className="font-bold">{formatCurrency(auditFee5pct)}</span></div>
                                            <div className="mt-2 pt-2 border-t">
                                                <div className="text-xs text-slate-500">Suggested Range:</div>
                                                <div className="font-bold text-lg text-blue-600">
                                                    {formatCurrency(Math.max(3500, auditFee2pct))} - {formatCurrency(Math.min(15000, auditFee5pct))}
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-white rounded p-4">
                                            <h3 className="font-semibold text-slate-700 mb-2">90-Day Implementation</h3>
                                            <div className="text-sm text-slate-600">10% of value: <span className="font-bold">{formatCurrency(implementationFee10pct)}</span></div>
                                            <div className="text-sm text-slate-600">15% of value: <span className="font-bold">{formatCurrency(implementationFee15pct)}</span></div>
                                            <div className="mt-2 pt-2 border-t">
                                                <div className="text-xs text-slate-500">Suggested Range:</div>
                                                <div className="font-bold text-lg text-blue-600">
                                                    {formatCurrency(Math.max(15000, implementationFee10pct))} - {formatCurrency(Math.min(50000, implementationFee15pct))}
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-white rounded p-4">
                                            <h3 className="font-semibold text-slate-700 mb-2">Fractional COO</h3>
                                            <div className="text-sm text-slate-600">Monthly retainer</div>
                                            <div className="font-bold text-2xl text-blue-600">{formatCurrency(fractionalCOOMonthly)}/mo</div>
                                            <div className="text-xs text-slate-500 mt-1">Minimum $5,000/month</div>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-gradient-to-br from-red-50 to-red-100 rounded-lg shadow-lg p-6">
                                    <h2 className="text-xl font-bold text-slate-800 mb-4">Qualification Assessment</h2>
                                    <div className="space-y-3">
                                        <div className="bg-white rounded p-3">
                                            <div className="flex justify-between items-center">
                                                <span className="text-sm font-medium">Revenue Size</span>
                                                <span className={`px-2 py-1 rounded text-xs font-bold ${
                                                    calcAnnualRevenue >= 200000 ? 'bg-green-100 text-green-800' : 
                                                    calcAnnualRevenue >= 150000 ? 'bg-yellow-100 text-yellow-800' : 
                                                    'bg-red-100 text-red-800'
                                                }`}>
                                                    {calcAnnualRevenue >= 200000 ? '✓ Good Fit' : 
                                                     calcAnnualRevenue >= 150000 ? '⚠ Caution' : 
                                                     '✗ Too Small'}
                                                </span>
                                            </div>
                                        </div>

                                        <div className="bg-white rounded p-3">
                                            <div className="flex justify-between items-center">
                                                <span className="text-sm font-medium">Owner Hours</span>
                                                <span className={`px-2 py-1 rounded text-xs font-bold ${
                                                    ownerHoursWeek >= 50 ? 'bg-green-100 text-green-800' : 
                                                    ownerHoursWeek >= 40 ? 'bg-yellow-100 text-yellow-800' : 
                                                    'bg-red-100 text-red-800'
                                                }`}>
                                                    {ownerHoursWeek >= 50 ? '✓ High Pain' : 
                                                     ownerHoursWeek >= 40 ? '⚠ Moderate' : 
                                                     '✗ Low Pain'}
                                                </span>
                                            </div>
                                        </div>

                                        <div className="bg-white rounded p-3">
                                            <div className="flex justify-between items-center">
                                                <span className="text-sm font-medium">Urgency Level</span>
                                                <span className={`px-2 py-1 rounded text-xs font-bold ${
                                                    urgencyLevel >= 7 ? 'bg-green-100 text-green-800' : 
                                                    urgencyLevel >= 5 ? 'bg-yellow-100 text-yellow-800' : 
                                                    'bg-red-100 text-red-800'
                                                }`}>
                                                    {urgencyLevel >= 7 ? '✓ Ready Now' : 
                                                     urgencyLevel >= 5 ? '⚠ Maybe' : 
                                                     '✗ Not Ready'}
                                                </span>
                                            </div>
                                        </div>

                                        <div className="bg-white rounded p-3">
                                            <div className="flex justify-between items-center">
                                                <span className="text-sm font-medium">Growth Goal</span>
                                                <span className={`px-2 py-1 rounded text-xs font-bold ${
                                                    (parseFloat(revenueGoal12Mo) - calcAnnualRevenue) / calcAnnualRevenue >= 0.5 ? 'bg-green-100 text-green-800' : 
                                                    (parseFloat(revenueGoal12Mo) - calcAnnualRevenue) / calcAnnualRevenue >= 0.25 ? 'bg-yellow-100 text-yellow-800' : 
                                                    'bg-red-100 text-red-800'
                                                }`}>
                                                    {(parseFloat(revenueGoal12Mo) - calcAnnualRevenue) / calcAnnualRevenue >= 0.5 ? '✓ Ambitious' : 
                                                     (parseFloat(revenueGoal12Mo) - calcAnnualRevenue) / calcAnnualRevenue >= 0.25 ? '⚠ Moderate' : 
                                                     '✗ Conservative'}
                                                </span>
                                            </div>
                                        </div>

                                        <div className="bg-white rounded p-4 mt-4">
                                            <div className="text-sm font-medium text-slate-700 mb-2">Overall Assessment:</div>
                                            <div className={`text-lg font-bold ${
                                                calcAnnualRevenue >= 200000 && ownerHoursWeek >= 50 && urgencyLevel >= 7 ? 'text-green-600' :
                                                calcAnnualRevenue >= 150000 && ownerHoursWeek >= 40 && urgencyLevel >= 5 ? 'text-yellow-600' :
                                                'text-red-600'
                                            }`}>
                                                {calcAnnualRevenue >= 200000 && ownerHoursWeek >= 50 && urgencyLevel >= 7 ? '🟢 STRONG FIT - Move Forward' :
                                                 calcAnnualRevenue >= 150000 && ownerHoursWeek >= 40 && urgencyLevel >= 5 ? '🟡 MODERATE FIT - Qualify Further' :
                                                 '🔴 WEAK FIT - Consider Passing'}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-lg p-6 mt-6">
                            <h2 className="text-xl font-bold text-slate-800 mb-4">Next Steps & Notes</h2>
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="p-4 bg-blue-50 rounded">
                                    <h3 className="font-semibold text-blue-900 mb-2">Quick Wins Identified</h3>
                                    <ul className="text-sm text-slate-700 space-y-1">
                                        {lastPriceReview && (lastPriceReview.includes('year') || lastPriceReview.includes('never')) && <li>• Pricing review (stale pricing)</li>}
                                        {parseFloat(adminActivities) > 40 && <li>• Automate admin tasks ({adminActivities}% of time)</li>}
                                        {(!hasSOPs || hasSOPs.toLowerCase().includes('none')) && <li>• Create core SOPs</li>}
                                        {parseFloat(retentionRate) < 80 && <li>• Improve retention ({retentionRate}% current)</li>}
                                    </ul>
                                </div>
                                <div className="p-4 bg-green-50 rounded">
                                    <h3 className="font-semibold text-green-900 mb-2">Key Talking Points</h3>
                                    <ul className="text-sm text-slate-700 space-y-1">
                                        <li>• Total value opportunity: {formatCurrency(midpointValue)}</li>
                                        <li>• Owner working {ownerHoursWeek} hrs/week</li>
                                        <li>• Current rate: {formatCurrency(calcOwnerHourlyRate)}/hr</li>
                                        {scaleBottleneck && <li>• Bottleneck: {scaleBottleneck.substring(0, 40)}...</li>}
                                    </ul>
                                </div>
                                <div className="p-4 bg-orange-50 rounded">
                                    <h3 className="font-semibold text-orange-900 mb-2">Follow-Up Actions</h3>
                                    <ul className="text-sm text-slate-700 space-y-1">
                                        <li>• Send proposal by: ___________</li>
                                        <li>• Request: P&L statements</li>
                                        <li>• Request: Org chart</li>
                                        <li>• Schedule follow-up call</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<ValueCalculator />, document.getElementById('root'));
    </script>
</body>
</html>
</body>
</html>
